{"version":3,"sources":["firebase.js","context/AuthContext.js","components/Signup.js","components/Login.js","components/Layout/MNavbar.js","context/MessageContext.js","context/UserContext.js","components/Layout/Users.js","components/Layout/Chat.js","components/Layout/Layout.js","App.js","index.js"],"names":["app","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","db","firestore","googleprovider","GoogleAuthProvider","signInWithGoogle","signInWithPopup","then","res","console","log","user","catch","error","message","AuthContext","createContext","AuthProvider","props","useState","setUser","useEffect","onAuthStateChanged","value","signup","email","password","namee","surname","createUserWithEmailAndPassword","name","currentUser","updateProfile","displayName","collection","doc","uid","set","firstName","surName","createdAt","Date","eMail","isOnline","login","signInWithEmailAndPassword","update","to","Provider","children","Signup","nameRef","useRef","surnameRef","emailRef","passwordRef","passwordConfirmRef","useContext","setError","loading","setLoading","e","a","preventDefault","current","Container","className","style","minHeight","maxWidth","Card","Body","Alert","variant","Form","onSubmit","Group","id","Label","Control","type","ref","required","Button","disable","onClick","Login","MNavbar","Navbartitle","Navbar","collapseOnSelect","expand","bg","Brand","href","Toggle","aria-controls","Collapse","Nav","Link","NavDropdown","title","Item","Divider","signOut","sign_out","MessageContext","MessageProvider","Profile","setProfile","Conversations","setCoversations","where","orderBy","onSnapshot","query","conversations","forEach","data","user_uid_1","user_uid_2","push","value2","awayUser","updateMessage","msgdata","add","isView","UserContext","UserProvider","users","setUsers","Loading","docs","value1","Users","activeclass","setActiveclass","search","setSearch","onChange","target","toLowerCase","placeholder","aria-hidden","filter","x","indexOf","map","humantime","seconds","toLocaleString","Fragment","awayprofile","checkProfile","src","alt","Chat","setMessage","submitMessage","length","messagesEndRef","scrollIntoView","scrollToBottom","messages","uuidv4","onKeyPress","which","keyCode","Layout","App","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gSAIMA,G,YAAKC,IAASC,cAAgB,CAChCC,OAAQ,0CACRC,WAAY,uCAEZC,UAAW,uBACXC,cAAe,mCACfC,kBAAmB,eACnBC,MAAO,+CAKGC,EAAOT,EAAIS,OACXC,EAAIT,IAASU,YAGpBC,EAAiB,IAAIX,IAASQ,KAAKI,mBAG5BC,EAAmB,WAC/Bb,IAASQ,OAAOM,gBAAgBH,GAAgBI,MAAK,SAACC,GAClDC,QAAQC,IAAIF,EAAIG,SACjBC,OAAM,SAACC,GAASJ,QAAQC,IAAIG,EAAMC,aCvB1BC,EAAYC,0BAyEVC,EAvEM,SAACC,GAAW,IAAD,EACHC,mBAAS,IADN,mBACjBR,EADiB,KACZS,EADY,KAyC5BC,qBAAU,WACuBrB,EAAKsB,oBAAmB,SAAAX,GAC7CS,EAAQT,QAMlB,CAACA,IAGH,IAAMY,EAAM,CAERZ,OACAa,OAnDU,SAACC,EAAMC,EAASC,EAAMC,GAClC5B,EAAK6B,+BAA+BJ,EAAMC,GAAUnB,MAAK,WACnD,IAAMuB,EAAI,UAAKH,EAAL,YAAcC,GACxB5B,EAAK+B,YAAYC,cAAc,CAC3BC,YAAYH,OAChBvB,MAAK,WAEPN,EAAGiC,WAAW,SAASC,IAAInC,EAAK+B,YAAYK,KAAKC,IAAI,CACjDC,UAAUX,EACVY,QAAQX,EACRQ,IAAIpC,EAAK+B,YAAYK,IACrBI,UAAU,IAAIC,KACdC,MAAM1C,EAAK+B,YAAYN,MACvBkB,UAAS,QAuCfC,MA/BU,SAACnB,EAAMC,GACjB1B,EAAK6C,2BAA2BpB,EAAMC,GAAUnB,MAAM,SAAAC,GAKxD,OAJMY,EAAQZ,EAAIG,MACGV,EAAGiC,WAAW,SAASC,IAAI3B,EAAIG,KAAKyB,KAGzCU,OAAO,CACnBH,UAAU,OAIR/B,OAAM,SAACC,GACPJ,QAAQC,IAAIG,QAwBpB,OACI,qCACKF,EAAK,cAAC,IAAD,CAAUoC,GAAG,MAAS,cAAC,IAAD,CAAUA,GAAG,WACzC,cAAChC,EAAYiC,SAAb,CAAsBzB,MAAO,CAACA,SAA9B,SACSL,EAAM+B,e,QC0BZC,EA1FA,WAEX,IAAMC,EAAUC,mBACVC,EAAaD,mBACbE,EAAWF,mBACXG,EAAcH,mBACdI,EAAqBJ,mBACnB7B,EAAUkC,qBAAW1C,GAArBQ,MAPS,EAQSJ,mBAAS,IARlB,mBAQVN,EARU,KAQH6C,EARG,OASavC,oBAAS,GATtB,mBASVwC,EATU,KASDC,EATC,iDAUjB,WAA4BC,GAA5B,SAAAC,EAAA,yDACID,EAAEE,iBACER,EAAYS,QAAQzC,QAAUiC,EAAmBQ,QAAQzC,MAFjE,yCAGemC,EAAS,4BAHxB,uBAMQA,EAAS,IACTE,EAAW,QAPnB,SAQcrC,EAAMC,OAAQ8B,EAASU,QAAQzC,MACjBgC,EAAYS,QAAQzC,MACpB4B,EAAQa,QAAQzC,MAChB8B,EAAWW,QAAQzC,OAX/C,yDAcQmC,EAAS,gCACTjD,QAAQC,IAAI6C,EAAYS,QAAQzC,OAfxC,QAiBIqC,EAAW,SAjBf,2DAViB,sBA8BjB,OAEI,mCACA,cAACK,EAAA,EAAD,CAAWC,UAAU,mDAAmDC,MAAO,CAACC,UAAY,SAA5F,SACI,qBAAKF,UAAU,QAAQC,MAAO,CAACE,SAAS,SAAxC,SACA,cAACC,EAAA,EAAD,UACI,eAACA,EAAA,EAAKC,KAAN,WACI,oBAAIL,UAAU,mBAAd,qBACDrD,GAAS,cAAC2D,EAAA,EAAD,CAAOC,QAAQ,SAAf,SAAyB5D,IACjC,eAAC6D,EAAA,EAAD,CAAMC,SAvCL,4CAuCD,UACI,eAACD,EAAA,EAAKE,MAAN,CAAYC,GAAG,OAAf,UAEI,cAACH,EAAA,EAAKI,MAAN,mBACA,cAACJ,EAAA,EAAKK,QAAN,CAAcC,KAAK,OAAOC,IAAK9B,EAAS+B,UAAQ,OAGpD,eAACR,EAAA,EAAKE,MAAN,CAAYC,GAAG,UAAf,UAEI,cAACH,EAAA,EAAKI,MAAN,sBACA,cAACJ,EAAA,EAAKK,QAAN,CAAcC,KAAK,OAAOC,IAAK5B,EAAY6B,UAAQ,OAGvD,eAACR,EAAA,EAAKE,MAAN,CAAYC,GAAG,QAAf,UAEI,cAACH,EAAA,EAAKI,MAAN,qBACA,cAACJ,EAAA,EAAKK,QAAN,CAAcC,KAAK,QAAQC,IAAK3B,EAAU4B,UAAQ,OAItD,eAACR,EAAA,EAAKE,MAAN,CAAYC,GAAG,WAAf,UAEI,cAACH,EAAA,EAAKI,MAAN,uBACA,cAACJ,EAAA,EAAKK,QAAN,CAAcC,KAAK,WAAWC,IAAK1B,EAAa2B,UAAQ,OAG5D,eAACR,EAAA,EAAKE,MAAN,CAAYC,GAAG,mBAAf,UAEI,cAACH,EAAA,EAAKI,MAAN,oCACA,cAACJ,EAAA,EAAKK,QAAN,CAAcC,KAAK,WAAWC,IAAKzB,EAAoB0B,UAAQ,OAGnE,cAACC,EAAA,EAAD,CAAQC,QAASzB,EAASO,UAAU,QAAQc,KAAK,SAAjD,wBAEJ,qBAAKd,UAAU,sBAAf,iBACA,qBAAKA,UAAU,gCAAf,SACI,cAACiB,EAAA,EAAD,CAAQV,QAAQ,SAASY,QAAShF,EAAlC,SAAoD,mBAAG6D,UAAU,sBAErE,6DAA+B,cAAC,IAAD,CAAMnB,GAAG,SAASmB,UAAU,UAA5B,mBAA/B,mBClBLoB,EA7DD,WAEV,IAAMhC,EAASF,mBACTG,EAAYH,mBAEX7B,EAASkC,qBAAW1C,GAApBQ,MALS,EAMOJ,mBAAS,IANhB,mBAMTN,EANS,KAMH6C,EANG,OAOWvC,oBAAS,GAPpB,mBAOTwC,EAPS,KAODC,EAPC,iDAQjB,WAA4BC,GAA5B,SAAAC,EAAA,6DACKD,EAAEE,iBADP,SAIQL,EAAS,IACTE,EAAW,QALnB,SAMcrC,EAAMqB,MAAMU,EAASU,QAAQzC,MAAMgC,EAAYS,QAAQzC,OANrE,uDASQmC,EAAS,gCACTjD,QAAQC,IAAI6C,EAAYS,QAAQzC,OAVxC,QAYKqC,EAAW,SAZhB,0DARiB,sBAuBhB,OACI,mCACA,cAACK,EAAA,EAAD,CAAWC,UAAU,mDAAmDC,MAAO,CAACC,UAAY,SAA5F,SACI,qBAAKF,UAAU,QAAQC,MAAO,CAACE,SAAS,SAAxC,SACF,cAACC,EAAA,EAAD,UACM,eAACA,EAAA,EAAKC,KAAN,WACI,oBAAIL,UAAU,mBAAd,mBACCrD,GAAS,cAAC2D,EAAA,EAAD,CAAOC,QAAQ,SAAf,SAAyB5D,IAClC8C,GAAW,cAACa,EAAA,EAAD,CAAOC,QAAQ,UAAf,qBACZ,eAACC,EAAA,EAAD,CAAMC,SAhCN,4CAgCA,UACI,eAACD,EAAA,EAAKE,MAAN,CAAYC,GAAG,QAAf,UAEI,cAACH,EAAA,EAAKI,MAAN,qBACA,cAACJ,EAAA,EAAKK,QAAN,CAAcC,KAAK,QAAQC,IAAK3B,EAAU4B,UAAQ,OAItD,eAACR,EAAA,EAAKE,MAAN,CAAYC,GAAG,WAAf,UAEI,cAACH,EAAA,EAAKI,MAAN,uBACA,cAACJ,EAAA,EAAKK,QAAN,CAAcC,KAAK,WAAWC,IAAK1B,EAAa2B,UAAQ,OAI5D,cAACC,EAAA,EAAD,CAAUjB,UAAU,QAAQc,KAAK,SAAjC,sBAGJ,oDAAsB,cAAC,IAAD,CAAMjC,GAAG,UAAUmB,UAAU,SAA7B,oC,wBCD3BqB,EAjDC,WACd,IAAMC,EAAa,mBAAGtB,UAAU,uBAuB9B,OACI,mCACA,eAACuB,EAAA,EAAD,CAAQC,kBAAgB,EAACC,OAAO,KAAKC,GAAG,UAAUnB,QAAQ,OAA1D,UACN,cAACgB,EAAA,EAAOI,MAAR,CAAcC,KAAK,QAAnB,2BAEA,cAACL,EAAA,EAAOM,OAAR,CAAeC,gBAAc,0BAC7B,eAACP,EAAA,EAAOQ,SAAR,CAAiBpB,GAAG,wBAApB,UACE,cAACqB,EAAA,EAAD,CAAKhC,UAAU,UAAf,SACE,cAACgC,EAAA,EAAIC,KAAL,CAAUL,KAAK,YAAf,wBAEF,cAACI,EAAA,EAAD,UACA,eAACE,EAAA,EAAD,CAAaC,MAAOb,EAAaX,GAAG,0BAApC,UAEI,cAACuB,EAAA,EAAYE,KAAb,CAAkBR,KAAK,cAAvB,qBACA,cAACM,EAAA,EAAYG,QAAb,IACA,cAACH,EAAA,EAAYE,KAAb,CAAkBjB,QAAS,YApChB,WACb,IAAMjD,EAAIpC,EAAK+B,YAAYK,IAEZnC,EAAGiC,WAAW,SAASC,IAAIC,GAE1BU,OAAO,CACnBH,UAAU,IAEbpC,MAAK,WACJP,EAAKwG,aAGN5F,OAAM,SAASC,GAEZJ,QAAQI,MAAM,4BAA6BA,MAsBb4F,IAAhC,kC,QCxCKC,EAAe1F,0BAyFb2F,EAvFS,SAACzF,GAAW,IAAD,EACJC,qBADI,mBACxByF,EADwB,KAChBC,EADgB,OAEO1F,mBAAS,IAFhB,mBAExB2F,EAFwB,KAEVC,EAFU,KAGxBxF,EAAQkC,qBAAW1C,GAAnBQ,MAEHF,qBAAU,WAERuF,EACA3G,EAAGiC,WAAW,iBACb8E,MAAM,aAAc,KAAM,CAACzF,EAAMZ,KAAKyB,IAAIwE,EAAQxE,MAClD6E,QAAQ,YAAY,OACpBC,YAAW,SAACC,GACX,IAAMC,EAAe,GACrBD,EAAME,SAAQ,SAAAlF,IAENA,EAAImF,OAAOC,aAAahG,EAAMZ,KAAKyB,KAAOD,EAAImF,OAAOE,aAAaZ,EAAQxE,KAE1ED,EAAImF,OAAOC,aAAaX,EAAQxE,KAAOD,EAAImF,OAAOE,aAAajG,EAAMZ,KAAKyB,MAI3EgF,EAAcK,KAAKtF,EAAImF,WAQ1BP,EAAgBK,MAOnB3G,QAAQC,IAAI,MAEvB,CAACkG,EAAQrF,IAML,IAyBGmG,EAAO,CACZC,SA1BmB,SAACxF,GAChB0E,EAAW1E,IA0BfyF,cAnBsB,SAACC,GACnB5H,EAAGiC,WAAW,iBACb4F,IADD,2BAEKD,GAFL,IAGEE,QAAO,EACPvF,UAAU,IAAIC,QAEblC,MAAK,SAAC+G,OAGN1G,OAAM,SAACC,GACRJ,QAAQC,IAAIG,OASlB+F,UACAE,iBAGA,OACI,mCACA,cAACJ,EAAe1D,SAAhB,CAAyBzB,MAAO,CAACmG,UAAjC,SACKxG,EAAM+B,cChFN+E,EAAYhH,0BAuDViH,EAtDM,SAAC/G,GAAW,IACtBK,EAAQkC,qBAAW1C,GAAnBQ,MADqB,EAENJ,mBAAS,IAFH,mBAEtB+G,EAFsB,KAEhBC,EAFgB,OAGFhH,oBAAS,GAHP,mBAGtBiH,EAHsB,KAGdxE,EAHc,KAQ7BvC,qBAAU,WAERE,EAAMZ,KAEPV,EAAGiC,WAAW,SACbgF,YAAW,SAACC,GACT,IAAMxG,EAAK,GACXwG,EAAMkB,KAAKhB,SAAS,SAAClF,GACdA,EAAImF,OAAOlF,MAAOb,EAAMZ,KAAKyB,KAAMzB,EAAK8G,KAAKtF,EAAImF,WAKtDa,EAASxH,GACTiD,GAAW,MAEZnD,QAAQC,IAAI,MACd,CAACa,EAAMZ,OAaZ,IAAO2H,EAAO,CACVJ,QACAE,WAKF,OACI,mCACA,cAACJ,EAAYhF,SAAb,CAAsBzB,MAAO,CAAC+G,UAA9B,SACSpH,EAAM+B,cCiDRsF,EA9FD,WAAO,IACThH,EAAUkC,qBAAW1C,GAArBQ,MACA+G,EAAW7E,qBAAWuE,GAAtBM,OACAZ,EAAWjE,qBAAWiD,GAAtBgB,OAHQ,EAIsBvG,mBAAS,MAJ/B,mBAITqH,EAJS,KAIIC,EAJJ,OAKYtH,mBAAS,IALrB,mBAKTuH,EALS,KAKDC,EALC,KAwBhB,OACI,qCAEI,sBAAKzE,UAAU,eAAf,UACI,qBAAKA,UAAU,iBAAf,SACI,6BAAK3C,EAAMZ,KAAOY,EAAMZ,KAAKsB,YAAc,aAE/C,qBAAKiC,UAAU,WAAf,SACI,sBAAKA,UAAU,sBAAf,UACI,uBAAOc,KAAK,OAAO4D,SAAU,SAAC/E,GAAD,OAAO8E,EAAU9E,EAAEgF,OAAOtH,MAAMuH,gBAAgB5E,UAAU,aAAa6E,YAAY,WAChH,sBAAM7E,UAAU,oBAAhB,SACI,yBAAQc,KAAK,SAAb,cAAuB,mBAAGd,UAAU,eAAe8E,cAAY,SAA/D,iBAMhB,qBAAK9E,UAAU,aAAf,SAEKoE,EAAOF,QAEJ,wBACAE,EAAOJ,MAAMe,QAAO,SAAAC,GAAC,OAAIA,EAAE5G,UAAUwG,cAAcK,QAAQT,IAAW,KAAGU,KAAI,SAAClB,GAAW,IAEjF5F,EAOA4F,EAPA5F,UACAC,EAMA2F,EANA3F,QACAH,EAKA8F,EALA9F,IACAI,EAIA0F,EAJA1F,UACAE,EAGAwF,EAHAxF,MACAC,EAEAuF,EAFAvF,SAKE0G,EADO,IAAI5G,KAAyB,IAApBD,EAAU8G,SACTC,iBACvB,OACI,cAAC,IAAMC,SAAP,UAEI,qBAAKnE,QAAS,kBAvDrB,SAACjD,EAAKE,EAAWC,EAASG,GAC3C,IAAM+G,EAAc,CAChBrH,IAAKA,EACLE,UAAWA,EACXC,QAASA,EACTG,MAAOA,GAEX+F,EAAerG,GACfsF,EAAOC,SAAS8B,GA+C4BC,CAAatH,EAAKE,EAAWC,EAASG,IACtDwB,UAAWsE,IAAgBpG,EAAM,wBAA0B,YAD/D,SAEI,sBAAK8B,UAAU,eAAf,UAEI,qBAAKA,UAAU,WAAf,SACI,qBAAKyF,IAAI,mDAAmDC,IAAI,YAGpE,sBAAK1F,UAAU,UAAf,UAEI,+BAAO5B,EAAP,IAAmBC,EAAnB,IAA4B,sBAAM2B,UAAU,YAAhB,SAA6BmF,OACzD,4BAAK1G,EAAW,SAAW,qBAbtBP,Y,QCmDlCyH,EAjHF,WAAO,IACTtI,EAAQkC,qBAAW1C,GAAnBQ,MACAmG,EAAUjE,qBAAWiD,GAArBgB,OAFQ,EAGYvG,mBAAS,IAHrB,mBAGRL,EAHQ,KAGAgJ,EAHA,KAITC,EAAgB,WACd,IAAMlC,EAAS,CACXN,WAAWhG,EAAMZ,KAAKyB,IACtBoF,WAAWE,EAAOd,QAAQxE,IAC1BtB,QAAQA,GACa,IAAlBA,EAAQkJ,SACPtC,EAAOE,cAAcC,GACrBiC,EAAW,MAOjBG,EAAiB7G,iBAAO,MAiBlC,OAJM/B,qBAAU,YAJW,WAAO,IAAD,EACzB,UAAA4I,EAAejG,eAAf,SAAwBkG,iBAIxBC,KACC,CAACzC,EAAOZ,gBAGb,mCACEY,EAAOd,QACT,mCACI,sBAAK1C,UAAU,QAAf,UACA,sBAAKA,UAAU,cAAf,UAEoC,IAA/BwD,EAAOZ,cAAckD,OAActC,EAAOZ,cAAcsC,KAAI,SAACgB,GAAY,IAGlE7C,EAGF6C,EAHE7C,WACAzG,EAEFsJ,EAFEtJ,QACA0B,EACF4H,EADE5H,UAGE6G,EADO,IAAI5G,KAAuB,IAAlBD,EAAU8G,SACXC,iBACrB,OAEShC,IAAehG,EAAMZ,KAAKyB,IAE3B,sBAAK8B,UAAU,eAAeW,GAAG,WAAjC,UACA,sBAAKX,UAAU,mBAAf,cAAmC,qBAAKyF,IAAI,mDAAmDC,IAAI,UAAnG,OACA,qBAAK1F,UAAU,eAAf,SACI,sBAAKA,UAAU,qBAAf,UACI,4BAAIpD,IACJ,uBAAMoD,UAAU,YAAhB,cAA8BmF,YALWgB,eAajD,qBAAKnG,UAAU,eAAf,SACJ,sBAAKA,UAAU,WAAf,UACI,4BAAIpD,IACP,uBAAMoD,UAAU,YAAhB,cAA8BmF,SAHQgB,kBAYzC,wBAGtB,qBAAKpF,IAAKgF,OAWM,qBAAK/F,UAAU,WAAf,SAEI,sBAAKA,UAAU,kBAAf,UAGI,uBAAOW,GAAG,iBAAiBG,KAAK,OAAOzD,MAAOT,EAAS8H,SAhF5D,SAAC/E,GAAKiG,EAAWjG,EAAEgF,OAAOtH,QAgFsD+I,WA9ExE,SAACzG,GAEN,MADJA,EAAE0G,OAAS1G,EAAE2G,UAEzBT,KA2EyH7F,UAAU,YAAY6E,YAAY,mBAEzI,wBAAQ7E,UAAU,eAAemB,QAAS,WAAK0E,KAAkB/E,KAAK,SAAtE,SAA+E,mBAAGd,UAAU,qBAAqB8E,cAAY,qBAOzI,4CCtFGyB,EAtBA,WACX,OACI,mCAEI,sBAAKvG,UAAU,YAAf,UACI,cAAC,EAAD,IACA,sBAAKA,UAAU,YAAf,UACA,qBAAKA,UAAU,eAAf,SACA,cAAC,EAAD,MAEA,cAAC,EAAD,aCkBDwG,MAxBf,WAEE,OACE,mCACC,cAAC,IAAD,UACD,cAAC,EAAD,UACE,cAAC,EAAD,UACA,eAAC,EAAD,WAEA,cAAC,IAAD,CAAOC,KAAK,SAAZ,SAAsB,cAAC,EAAD,MACtB,cAAC,IAAD,CAAOA,KAAK,UAAZ,SAAwB,cAAC,EAAD,MACxB,eAAC,IAAD,CAAOC,OAAK,EAACD,KAAK,IAAlB,cAAuB,cAAC,EAAD,IAAvB,mBCfNE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.53a1e994.chunk.js","sourcesContent":["import firebase from 'firebase'\nimport 'firebase/auth'\nimport 'firebase/firestore'\n\nconst app= firebase.initializeApp ( {\n    apiKey: \"AIzaSyD-LFgo8paxDWdpyZynvyFDaxLb30t_BD8\",\n    authDomain: \"fir-adminpanel-d4183.firebaseapp.com\",\n    \n    projectId: \"fir-adminpanel-d4183\",\n    storageBucket: \"fir-adminpanel-d4183.appspot.com\",\n    messagingSenderId: \"647213379857\",\n    appId: \"1:647213379857:web:42bfa4083c909fc2f15cb0\",\n    \n  });\n  // Initialize Firebase\n\n export const auth = app.auth();\n export const db =firebase.firestore();\n\n \n const googleprovider = new firebase.auth.GoogleAuthProvider();\n\n\n export const signInWithGoogle = () => {\n  firebase.auth().signInWithPopup(googleprovider).then((res)=>{\n      console.log(res.user)\n  }).catch((error)=>{console.log(error.message)});\n}\n\n\n export default app","import React,{createContext,useState,useEffect} from 'react';\nimport { Redirect } from 'react-router-dom';\nimport {auth,db} from '../firebase'\nexport const AuthContext=createContext();\n\nconst AuthProvider = (props) => {\n        const [user,setUser]=useState([])\n\n\n   const  signup =(email,password,namee,surname) => {\n      auth.createUserWithEmailAndPassword(email,password).then(()=>{\n            const name =`${namee} ${surname}`\n            auth.currentUser.updateProfile({\n                displayName:name})\n         }).then(()=>{\n            \n          db.collection('users').doc(auth.currentUser.uid).set({\n              firstName:namee,\n              surName:surname,\n              uid:auth.currentUser.uid,\n              createdAt:new Date(),\n              eMail:auth.currentUser.email,\n              isOnline:true,\n          })\n        \n          \n          \n      })    \n      \n    }\n    const  login =(email,password) => {\n        auth.signInWithEmailAndPassword(email,password).then((res=>{\n            setUser(res.user);\n            var isOnline = db.collection(\"users\").doc(res.user.uid);\n\n      // Set the \"capital\" field of the city 'DC'\n      return isOnline.update({\n          isOnline: true\n      })\n        \n            \n        })).catch((error)=>{\n            console.log(error)\n        })\n        \n      }\n    useEffect(()=>{\n            const unsubscribe= ()=>{ auth.onAuthStateChanged(user =>{\n                setUser(user)\n               \n              \n               \n            })}\n             unsubscribe();\n    },[user])\n    \n\n    const value={\n\n        user,\n        signup,\n        login\n    }\n\n\n\n    return (\n        <>\n            {user?<Redirect to='/' /> : <Redirect to='/login' />}\n            <AuthContext.Provider value={{value}}  >\n                    {props.children}\n            </AuthContext.Provider>\n        </>\n    )\n}\n\nexport default AuthProvider\n","import React, { useState, useRef, useContext } from 'react'\nimport { Card,Container, Form, Button, Alert } from 'react-bootstrap'\nimport { AuthContext } from '../context/AuthContext'\nimport { signInWithGoogle } from '../firebase';\nimport {Link} from 'react-router-dom'\n\nconst Signup = () => {\n\n    const nameRef = useRef()\n    const surnameRef = useRef()\n    const emailRef = useRef()\n    const passwordRef = useRef()\n    const passwordConfirmRef = useRef()\n    const { value } = useContext(AuthContext)\n    const [error, setError] = useState('')\n    const [loading, setLoading] = useState(false)\n    async function handleSubmit(e) {\n        e.preventDefault()\n        if (passwordRef.current.value !== passwordConfirmRef.current.value) {\n            return setError('Passwords do not match ')\n        }\n        try {\n            setError('')\n            setLoading('true')\n            await value.signup( emailRef.current.value, \n                                passwordRef.current.value,\n                                nameRef.current.value,\n                                surnameRef.current.value)\n\n        } catch {\n            setError('Failed to create an account ')\n            console.log(passwordRef.current.value)\n        }\n        setLoading('false')\n    }\n\n    return (\n\n        <>\n        <Container className='align-items-center d-flex justify-content-center' style={{minHeight : '100vh'}}>\n            <div className='w-100' style={{maxWidth:'400px'}}>\n            <Card>\n                <Card.Body>\n                    <h2 className='text-center mb-4'>Sign Up</h2>\n                  {error && <Alert variant='danger'>{error}</Alert>}\n                    <Form onSubmit={handleSubmit}>\n                        <Form.Group id='name'>\n\n                            <Form.Label>Name</Form.Label>\n                            <Form.Control type='text' ref={nameRef} required />\n\n                        </Form.Group>\n                        <Form.Group id='surname'>\n\n                            <Form.Label>Surname</Form.Label>\n                            <Form.Control type='text' ref={surnameRef} required />\n\n                        </Form.Group>\n                        <Form.Group id='email'>\n\n                            <Form.Label>E-mail</Form.Label>\n                            <Form.Control type='email' ref={emailRef} required />\n\n                        </Form.Group>\n\n                        <Form.Group id='password'>\n\n                            <Form.Label>Password</Form.Label>\n                            <Form.Control type='password' ref={passwordRef} required />\n\n                        </Form.Group>\n                        <Form.Group id='password-confirm'>\n\n                            <Form.Label>Password Confirmation</Form.Label>\n                            <Form.Control type='password' ref={passwordConfirmRef} required />\n\n                        </Form.Group>\n                        <Button disable={loading} className='w-100' type='Submit'>Sing Up</Button>\n                    </Form>\n                    <div className='text-center h-500px'> OR</div>\n                    <div className='d-flex justify-content-center'>\n                        <Button variant='danger' onClick={signInWithGoogle}><i className='fab fa-google'></i></Button>\n                    </div>\n                    <div>Already have an account ? <Link to='/login' className='variant'>Login</Link> </div>\n                </Card.Body>\n\n\n            </Card>\n            </div>\n            </Container>\n\n\n        </>\n    )\n}\n\nexport default Signup\n","import React,{useRef,useState,useContext} from 'react'\nimport {Card,Form,Button,Alert,Container} from 'react-bootstrap'\nimport {AuthContext} from '../context/AuthContext'\nimport {Link} from 'react-router-dom'\nconst Login = () => {\n\n    const emailRef=useRef()\n    const passwordRef=useRef()\n  \n    const {value} = useContext(AuthContext)\n    const [error,setError]=useState('')\n    const [loading,setLoading]=useState(false)\n   async function handleSubmit(e) {\n        e.preventDefault()\n       try {\n           \n           setError('')\n           setLoading('true')\n           await value.login(emailRef.current.value,passwordRef.current.value)\n\n       } catch {\n           setError('Failed to create an account ')\n           console.log(passwordRef.current.value)\n       }\n        setLoading('false')\n    }\n\n    return (\n        <>\n        <Container className='align-items-center d-flex justify-content-center' style={{minHeight : '100vh'}}>\n            <div className='w-100' style={{maxWidth:'400px'}}>\n          <Card>\n                <Card.Body>\n                    <h2 className='text-center mb-4'>Login</h2>\n                    {error && <Alert variant='danger'>{error}</Alert>}\n                    {loading && <Alert variant='success'>Welcome</Alert>}\n                    <Form onSubmit={handleSubmit} >\n                        <Form.Group id='email'>\n\n                            <Form.Label>E-mail</Form.Label>\n                            <Form.Control type='email' ref={emailRef} required />\n\n                        </Form.Group>\n\n                        <Form.Group id='password'>\n\n                            <Form.Label>Password</Form.Label>\n                            <Form.Control type='password' ref={passwordRef} required />\n\n                    \n                        </Form.Group>\n                        <Button   className='w-100' type='Submit'>Login</Button>\n                    </Form>\n                   \n                    <div>Need an account? <Link to='/signup' className='danger'>Sign Up</Link></div>\n                </Card.Body>\n             \n\n            </Card>\n            </div>\n            </Container>\n        </>\n    )\n}\n\nexport default Login\n","import React from 'react'\nimport {Navbar,Nav,NavDropdown} from 'react-bootstrap'\nimport {auth,db} from '../../firebase'\n\nconst MNavbar = () => {\n  const Navbartitle=(<i className=\"fas fa-user-circle\"></i>);\n     \n    const sign_out=()=>{\n      const uid=auth.currentUser.uid\n     \n      var isOnline = db.collection(\"users\").doc(uid);\n\n      return isOnline.update({\n          isOnline: false\n      })\n      .then(function() {\n        auth.signOut()\n          \n      })\n      .catch(function(error) {\n          \n          console.error(\"Error updating document: \", error);\n      })\n     \n\n    }\n\n\n    return (\n        <>\n        <Navbar collapseOnSelect expand=\"lg\" bg=\"success\" variant=\"dark\">\n  <Navbar.Brand href=\"#home\">Web-Messenger</Navbar.Brand>\n            \n  <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n  <Navbar.Collapse id=\"responsive-navbar-nav\">\n    <Nav className=\"mr-auto\">\n      <Nav.Link href=\"#features\">Features</Nav.Link>\n    </Nav>\n    <Nav>\n    <NavDropdown title={Navbartitle} id=\"collasible-nav-dropdown\">\n\n        <NavDropdown.Item href=\"#action/3.1\">Profile</NavDropdown.Item>\n        <NavDropdown.Divider />\n        <NavDropdown.Item onClick={()=>{sign_out()}}>Logout</NavDropdown.Item>\n      </NavDropdown>\n  \n    </Nav>\n  </Navbar.Collapse>\n</Navbar>\n        </>\n    )\n}\n\nexport default MNavbar\n","import React,{createContext,useEffect,useState,useContext} from 'react'\nimport {db} from '../firebase';\nimport {AuthContext} from './AuthContext';\nexport const MessageContext=createContext()\n\nconst MessageProvider = (props) => {\n    const [Profile,setProfile]=useState();\n    const [Conversations,setCoversations]=useState([]);\n    const {value} =useContext(AuthContext);\n\n        useEffect(()=>{\n        \n          Profile ?    \n          db.collection('conversations')\n          .where('user_uid_1', 'in', [value.user.uid,Profile.uid])\n          .orderBy('createdAt','asc')\n          .onSnapshot((query)=>{\n            const conversations =[]\n            query.forEach(doc =>{\n               if(\n                   (doc.data().user_uid_1===value.user.uid && doc.data().user_uid_2===Profile.uid)\n                   ||\n                   (doc.data().user_uid_1===Profile.uid && doc.data().user_uid_2===value.user.uid)\n   \n               )\n                 {\n                   conversations.push(doc.data())\n                  \n                 }\n            \n                 \n               })\n           \n  \n                setCoversations(conversations)\n             \n \n             \n            \n          })\n\n           : console.log('')\n      \n},[Profile,value])\n\n\n\n\n\n      const awayUser = (doc)=>{\n        setProfile(doc)\n        \n    \n \n        \n    }\n  \n    const updateMessage = (msgdata)=>{\n        db.collection('conversations')\n        .add({\n          ...msgdata,\n          isView:false,\n          createdAt:new Date()\n\n        }).then((data)=>{\n          \n        \n        }).catch((error)=>{\n          console.log(error)\n        })\n        }\n   \n   \n   \n   const value2={\n    awayUser,\n    updateMessage,\n    Profile,\n    Conversations\n\n   }\n    return (\n        <>\n        <MessageContext.Provider value={{value2}}>\n            {props.children}\n        </MessageContext.Provider>\n        </>\n            \n        \n    )\n}\n\nexport default MessageProvider\n","import React,{createContext,useEffect,useState,useContext} from 'react'\nimport {db} from '../firebase';\nimport {AuthContext} from './AuthContext';\n\nexport const UserContext=createContext()\nconst UserProvider = (props) => {\n    const {value} =useContext(AuthContext);\n   const [users,setUsers]=useState([]);\n   const [Loading,setLoading]=useState(true);\n   \n  \n \n\n   useEffect(() => {\n    \n     value.user ?  \n    \n    db.collection(\"users\")\n    .onSnapshot((query)=> {\n        const user=[];\n        query.docs.forEach ((doc)=>{\n            if(doc.data().uid !==value.user.uid) {user.push(doc.data())}\n            \n        })\n        \n      \n          setUsers(user)\n          setLoading(false)\n          \n    }) : console.log('')\n    }, [value.user])\n    \n   \n       \n       \n        \n     \n\n\n\n\n\n\n  const  value1={\n      users,\n      Loading,\n      \n    \n    \n  }\n    return (\n        <>\n        <UserContext.Provider value={{value1}}>\n                {props.children}\n        </UserContext.Provider>\n        </>\n    )\n}\n\nexport default UserProvider\n","import React, { useContext, useState } from 'react'\nimport { MessageContext } from '../../context/MessageContext.js'\nimport { UserContext } from '../../context/UserContext.js'\nimport { AuthContext } from '../../context/AuthContext.js'\n\n\n\n\nconst Users = () => {\n    const { value } = useContext(AuthContext)\n    const { value1 } = useContext(UserContext)\n    const { value2 } = useContext(MessageContext)\n    const [activeclass, setActiveclass] = useState(null)\n    const [search, setSearch] = useState('')\n\n    const checkProfile = (uid, firstName, surName, eMail) => {\n        const awayprofile = {\n            uid: uid,\n            firstName: firstName,\n            surName: surName,\n            eMail: eMail\n        }\n        setActiveclass(uid);\n        value2.awayUser(awayprofile)\n\n\n\n\n\n\n    }\n\n    return (\n        <>\n\n            <div className=\"headind_srch\" >\n                <div className=\"recent_heading\">\n                    <h4>{value.user ? value.user.displayName : 'Recent'}</h4>\n                </div>\n                <div className=\"srch_bar\">\n                    <div className=\"stylish-input-group\">\n                        <input type=\"text\" onChange={(e) => setSearch(e.target.value.toLowerCase())} className=\"search-bar\" placeholder=\"Search\" />\n                        <span className=\"input-group-addon\">\n                            <button type=\"button\"> <i className=\"fa fa-search\" aria-hidden=\"true\"></i> </button>\n                        </span>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"inbox_chat\" >\n\n                {value1.Loading ?\n\n                    <div /> :\n                    value1.users.filter(x => x.firstName.toLowerCase().indexOf(search) > -1).map((users) => {\n                        const {\n                            firstName,\n                            surName,\n                            uid,\n                            createdAt,\n                            eMail,\n                            isOnline\n\n                        } = users\n\n                        const time = new Date(createdAt.seconds * 1000);\n                        const humantime = time.toLocaleString()\n                        return (\n                            <React.Fragment key={uid}>\n\n                                <div onClick={() => checkProfile(uid, firstName, surName, eMail)}\n                                    className={activeclass === uid ? 'chat_list active_chat' : 'chat_list'} >\n                                    <div className=\"chat_people \"   >\n\n                                        <div className=\"chat_img\"  >\n                                            <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\" />\n                                        </div>\n\n                                        <div className=\"chat_ib\"   >\n\n                                            <h5  >{firstName} {surName} <span className=\"chat_date\">{humantime}</span></h5>\n                                            <p >{isOnline ? 'online' : 'offline'}</p>\n\n                                        </div>\n\n                                    </div>\n                                </div>\n\n\n                            </React.Fragment>\n                        )\n                    })\n                }\n\n\n            </div>\n\n\n        </>\n    )\n}\n\nexport default Users\n","import React,{useContext,useState,useRef,useEffect} from 'react'\nimport {AuthContext} from '../../context/AuthContext';\nimport { MessageContext } from '../../context/MessageContext';\nimport { v4 as uuidv4 } from 'uuid';\n\n\nconst Chat = () => {\n    const {value} =useContext(AuthContext);\n    const {value2} = useContext(MessageContext)\n    const [message,setMessage]=useState('')\n    const submitMessage = ()=>{\n            const msgdata ={\n                user_uid_1:value.user.uid,\n                user_uid_2:value2.Profile.uid,\n                message:message}\n                if(message.length !==0){\n                    value2.updateMessage(msgdata)\n                    setMessage('')\n                }\n               \n        \n        }\n   \n   \n        const messagesEndRef = useRef(null)\n    const onChange=(e)=>{setMessage(e.target.value) }\n\n    const handleKeypress = (e) => {\n    var keyCode = e.which || e.keyCode;\n      if (keyCode === 13) {\n      submitMessage(); \n        }}\n\n        const scrollToBottom = () => {\n            messagesEndRef.current?.scrollIntoView()\n          }\n        \n          useEffect(() => {\n            scrollToBottom()\n          }, [value2.Conversations]);\n    \n    return (\n        <>\n        { value2.Profile ? \n        <>\n            <div className=\"mesgs\">\n            <div className=\"msg_history\">\n           \n                {value2.Conversations.length !==0 ? value2.Conversations.map((messages)=>{\n                    \n                    const {\n                        user_uid_1,\n                        message,\n                        createdAt,\n                    }=messages\n                    const time = new Date(createdAt.seconds*1000);\n                    const humantime=time.toLocaleString()\n                    return(\n                    \n                             user_uid_1 !== value.user.uid ?\n                            \n                            <div className='incoming_msg' id='incoming' key={uuidv4()}  >\n                            <div className=\"incoming_msg_img\"> <img src=\"https://ptetutorials.com/images/user-profile.png\" alt=\"sunil\" /> </div>\n                            <div className=\"received_msg\">\n                                <div className=\"received_withd_msg\">\n                                    <p>{message}</p>\n                                    <span className=\"time_date\"> {humantime}</span>\n                                </div>\n                            </div>\n                            </div>\n                           \n                       :\n                    \n                        \n                            <div className=\"outgoing_msg\" key={uuidv4()} >\n                        <div className=\"sent_msg\">\n                            <p>{message}</p>\n                         <span className=\"time_date\"> {humantime}</span>\n                                 </div>\n                                </div>\n                    \n                   \n                         )\n                          \n                         \n                    \n                })  : <div/>}\n\n\n<div ref={messagesEndRef} />\n\n\n\n            </div> \n          \n\n\n\n\n\n                <div className=\"type_msg\">\n\n                    <div className=\"input_msg_write\">\n                       \n                            \n                        <input id='handleKeypress' type=\"text\" value={message} onChange={onChange} onKeyPress={handleKeypress} className=\"write_msg\" placeholder=\"Type a message\" />\n                        \n                        <button className=\"msg_send_btn\" onClick={()=>{submitMessage()}} type=\"submit\"><i className=\"fas fa-paper-plane\" aria-hidden=\"true\"></i></button>\n                      \n                     \n                    </div>\n                </div>\n            </div>\n            </>\n          : <h1>Welcome</h1> }\n        </>\n    )\n}\n\nexport default Chat\n","import React from 'react'\nimport MNavbar from './MNavbar';\nimport Users from './Users';\nimport Chat from './Chat';\n\n\nconst Layout = () => {\n    return (\n        <>\n      \n            <div className='container'>\n                <MNavbar/>\n                <div className='inbox_msg'>\n                <div className='inbox_people'>\n                <Users />\n                </div>\n                <Chat/>\n               \n                </div>\n            </div>\n         \n\n      \n\n        </>\n    )\n}\n\nexport default Layout\n","import Signup from './components/Signup';\nimport Login from './components/Login';\nimport Layout from './components/Layout/Layout'\nimport AuthProvider from './context/AuthContext'\nimport UserProvider from './context/UserContext'\nimport MessageProvider from './context/MessageContext'\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\n\n\nfunction App() { \n  \n  return (\n    <>\n     <Router>\n    <AuthProvider>\n      <UserProvider>\n      <MessageProvider>\n     \n      <Route path=\"/login\" ><Login/></Route>\n      <Route path=\"/signup\"  ><Signup/></Route>\n      <Route exact path='/'> <Layout/> </Route>\n      \n       \n  \n    \n    </MessageProvider>\n    </UserProvider>\n  </AuthProvider>\n  </Router>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}